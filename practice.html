<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>연습문제</title>
  </head>
  <body>
    <script>
      // 자리를 양보해가며!
      /*
        페이지 교체 알고리즘을 사용하는 문제!
        ppt에서는 페이지 교체 알고리즘을 사용하지만,
        FIFO, 즉 큐 구조를 사용하는 방법도 있음.

        여기서는 FIFO 구조를 이용해서 솔루션 함수를 짜볼거임
      */
      const 동물 = [
        "척추동물",
        "어류",
        "척추동물",
        "무척추동물",
        "파충류",
        "척추동물",
        "어류",
        "파충류",
      ];
      function solution(동물, 자리) {
        // 자리는 의자 개수겠지
        let 의자 = []; // 개별동물들을 넣을 큐
        let answer = 0; // 걸린 시간 계산

        for (const 개별동물 of 동물) {
          if (의자.length < 3) {
            // 동물들이 3명 안되게 앉아있는 경우 -> 즉, 의자가 비어있는 경우
            if (의자.includes(개별동물)) {
              // 즉, 이미 의자에 같은 종이 앉아있는 경우지
              // 이런 경우 indexOf 로 해당 종의 위치를 찾아서 splice로 종을 빼서 push로 맨뒤로 보내버림(즉, 무릎에 앉히는 거 = HIT 라고 보면 됨)
              의자.splice(의자.indexOf(개별동물), 1);
              의자.push(개별동물);
              answer += 1; // 무릎에 앉히는 거니까 1초만 추가하는거지?
            } else {
              // 이거는 같은 종이 없는 경우니까, 개별동물(새로운 종)을 그냥 앉히면 되겠지
              의자.push(개별동물);
              answer += 60; // 새로운 종을 앉히려면 1분(60초) 동안 청소해야 된댔으니까 60을 더해준 것.
            }
          } else {
            // 동물들이 3명 꽉차게 앉아있는 경우 -> 즉, 의자가 꽉찬 경우
            if (의자.includes(개별동물)) {
              // 즉, 이미 의자에 같은 종이 앉아있는 경우지
              의자.splice(의자.indexOf(개별동물), 1);
              의자.push(개별동물);
              answer += 1; // 무릎에 앉히는 거니까 1초만 추가하는거지?
            } else {
              // 이거는 같은 종이 없는 경우니까, 개별동물(새로운 종)을 그냥 앉히면 되겠지
              // 단, 위에 의자가 비어있는 때와는 다르게 의자가 꽉차있으니까
              // 한번도 무릎에 앉히지 않았던 종을 의자 밖으로 쫒까내야겠지
              // 그래서 shift 로 의자 배열의 맨 처음 요소를 빼준거임.
              의자.shift();
              의자.push(개별동물);
              answer += 60; // 새로운 종을 앉히려면 1분(60초) 동안 청소해야 된댔으니까 60을 더해준 것.
            }
          }
          console.log(의자);
        }

        return `${parseInt(answer / 60)}분 ${answer % 60}초`;
      }

      console.log(solution(동물, 3));
    </script>
  </body>
</html>

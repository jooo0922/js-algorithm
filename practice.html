<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>연습문제</title>
  </head>
  <body>
    <script>
      // 2. 자바독과 함께
      let 돌의내구도1 = [1, 2, 1, 4];
      let 돌의내구도2 = [5, 3, 4, 1, 3, 8, 3];
      let 독 = [
        {
          이름: "루비독",
          나이: "95년생",
          점프력: "3",
          몸무게: "4",
        },
        {
          이름: "피치독",
          나이: "95년생",
          점프력: "3",
          몸무게: "3",
        },
        {
          이름: "씨-독",
          나이: "72년생",
          점프력: "2",
          몸무게: "1",
        },
        {
          이름: "코볼독",
          나이: "59년생",
          점프력: "1",
          몸무게: "1",
        },
      ];

      function 징검다리를건너라(돌의내구도, 독) {
        let answer = []; // 생존한 독들의 리스트를 담아놓는 것.

        for (const 개별독 of 독) {
          // 이 안에서 개별독들의 점프력과 몸무게로 생존여부를 계산해볼거임
          // 이 때, 점프력은 돌의내구도 배열의 index 로 활용할 수 있겠지?
          // 정확히는, 점프력 - 1 로 해당 index 를 구할 수 있을거임.
          // 이렇게 했을 때, 해당 index의 돌의내구도 - 개별독 몸무게가 0보다 작으면
          // 그 개별독은 물에 빠지는 거니까 생존독 리스트인 answer 에서 해당 독을 제거해줘야 겠지

          let 독의위치 = 0; // 지금 for문에서 현재 개별독의 위치를 나타냄
          let 실패여부 = false; // 현재독이 물에 빠졌으면 true, 아님 false 로 해서 answer 에 현재 독을 추가해줄지 말지 결정할 변수
          // 개별독의 실패여부를 각각 따져야하기 때문에 매 반복문이 실행되기 전 실패여부를 false 로 초기화해줘야 함.

          while (독의위치 < 돌의내구도.length) {
            // 현재 독의 위치계산 반복문
            // 개별독의 위치가 돌의내구도의 마지막 인덱스보다 크다는 것은
            // 징검다리를 다 건넜다는 뜻이므로, 더 이상 현재 개별독의 위치를 누적계산해줄 필요가 없음. -> 종결조건
            // 현재 개별독의 점프력만큼 한 번 움직일 때마다 개별독의 위치를 이동시킬 수 있는 것이지
            독의위치 += parseInt(개별독["점프력"]); // 이때, 접프력값은 문자열이니까, parseInt 로 10진수로 바꿔줘야 함

            // 또한, 현재 독이 위치한 지점에 있는 돌의 내구도를 현재 독의 몸무게만큼 감소시켜야지
            // 이때, 독의위치는 1, 2, 3, 4... 요렇게 가지만 배열의 인덱스는 0, 1, 2, 3... 요렇게 가니까 -1을 해준거
            돌의내구도[독의위치 - 1] -= parseInt(개별독["몸무게"]);

            if (돌의내구도[독의위치 - 1] < 0) {
              // 돌의 내구도가 0보다 작아지면 현재 독이 물에빠져 죽은거니까
              // 더 이상 현재독의 위치 계산 반복문을 멈춰야겠지
              실패여부 = true; // 현재독이 물에 빠졌으면 실패여부를 true로 해야지
              break;
            }
          }

          if (!실패여부) {
            // 즉, 실패하지 않은 개별독들만 answer 에 추가해줘야 함.
            answer.push(개별독["이름"]);
          }
        }

        return answer;
      }

      console.log(징검다리를건너라(돌의내구도1, 독));
      console.log(징검다리를건너라(돌의내구도2, 독));
    </script>
  </body>
</html>

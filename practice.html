<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>연습문제</title>
  </head>
  <body>
    <script>
      // 섬으로 건너가라!
      // 복잡해 보이지만 난이도가 '하'인 이유는
      // 그냥 규칙에 따라서 코딩만 하면 되는거기 때문에 금방 풀 수 있다고 함.
      /*
        시간        탑승가능인원       누적탑승인원
        9시           25                25
        9시 10분      15                40
        9시 20분      15                55
        9시 30분      15                70
        9시 40분      15                85
        9시 50분      15                100

        1시간에 총 100명 태울 수 있네?
        하루에는 총 100명씩 12시간이니 1200명 태울 수 있네?

        -> 항상 코테 문제 풀 때는 이런식으로 표를 직접 짜보거나 케이스를 확인해보면서
        규칙성을 발견하는게 가장 먼저 해야 할 일이 될 것 같음!
      */
      // let 대기인원 = 14000605;
      let 대기인원 = 1200202;

      console.log(`걸린일수: ${대기인원 / 1200}`); // 대기인원 다 태우는 데 걸리는 일수

      let 일년일수 = 0; // 이 문제의 세계관에서 1년이 총 몇일인지 for loop로 계산한 것
      for (let i = 1; i < 11; i++) {
        // 각 달마다 2의 i제곱만큼 거듭제곱해야 한달마다 몇일인지 계산 가능함.
        // 왜 거듭제곱 이냐면, 문제에서 각 월의 일수를 보면 2, 4, 8, 16, 32, 64, ... 이거 2의 거듭제곱 반복이잖아!
        // 참고로 js에서 밑 ** 지수 이렇게 하면 해당 지수만큼 밑을 거듭제곱해줌.
        일년일수 += 2 ** i;
      }
      console.log(일년일수); // 이 세계관에서 1년은 2046일이네

      // 그럼 다 태우는데 11667.xxxx... 일이 걸리고, 1년이 2046일이니까
      // 다 태우는 일수 / 일년일수 하면 '몇년' 이 걸리는지가 나오겠지
      // 요 밑에 계산에서 소수점들은 다 버리면 됨.
      let 걸린년도 = 대기인원 / 1200 / 일년일수;
      console.log(`걸린연도: ${걸린년도}`); // 걸린연도

      // 이제 나머지 일수를 알고 있으니 나머지 일수를 이용해서 걸린 월수를 구할 수 있음.
      // 참고로 각 월마다 일수가 다르기 때문에 마찬가지로 2의 거듭제곱을 반복문으로 돌려서 각각의 월마다 일수를 확인해야 함.
      let 걸린월수 = 0;
      let 나머지일수 = (대기인원 / 1200) % 일년일수;
      console.log(`걸린연도를 뺀 나머지 일수(걸린월수 빼기 전): ${나머지일수}`); // 나머지 연산을 해주면 걸린연도를 뺀 나머지 일수
      for (let i = 10; i > 0; i--) {
        걸린월수++;
        // 2**10 거듭제곱하면 1024일, 즉 1월부터 남은일수를 체크하면서 걸린월수를 카운팅 하겠다는 뜻.
        if (나머지일수 < 2 ** i) {
          // 현재 월의 일수보다 걸린연도를 뺀 나머지일수보다 작다면 현재 월에 속한거니까
          // 더이상 카운팅을 걸린월수를 카운팅하지 않아도 되겠지. -> 1월만 카운팅하고 끝이겠네
          break;
        }

        // 카운팅한 걸린월수의 일수만큼을 걸린연도를 뺀 나머지일수에서 빼줘야
        // 걸린월수를 카운팅하고 남은 나머지일수값을 얻게 되겠지
        나머지일수 = 나머지일수 - 2 ** i;
      }
      console.log(`걸린연도, 걸린월수를 뺀 나머지 일수: ${나머지일수}`); // 걸린월수만큼의 일수가 빠진 나머지일수
      // 걸린월수값은 정확히 말하면 '속한월수'이기 때문에,
      // 1월달 걸리고 몇일 남았으면 2월에 속하지만, 실제 걸린 달은 1월 한달만 걸렸기 때문에 실제로 걸린월수는 1이지?
      // 그래서 1을 빼주는거임. 속한월수 = 걸린월수 + 1
      console.log(`걸린월수: ${걸린월수 - 1}`);

      // 얘는 뭐냐면, '하루'에 1200명 태우니까, 1200으로 딱 떨어지지 않는 나머지 대기인원은
      // '시간' 단위로 대기인원을 세어볼 수 있겠지?
      console.log(`시간: ${대기인원 % 1200}`);
      // 205가 나오는데, 이 말은, 하루 1200명 단위로 딱 떨어지지 않는 나머지 대기인원 205명을 태우려면
      // 1시간에 100명 태우니까 '2시간' 정도 태운 뒤에 5명 정도 남는다는 거지?

      // 하루가 1200이면 하루 단위로 셀 수 있고,
      // 하루단위로 셀수없는 나머지 205명은 1시간에 100명을 태우는거니까
      // 100으로 나누면 '2시간' 이 나오지?
      // 이거를 배가 매일 출발하는 시간은 9시에 더해주면,
      // 다음날 대략 11시까지 사람을 더 태워야 한다는 걸 알 수 있음.
      let 걸린시간 = (대기인원 % 1200) / 100 + 9;
      console.log(`시간: ${걸린시간}`); // 11.05로 나옴

      // 이번엔 나머지 5명을 태우는데 걸리는 '분 단위'를 계산해보자
      let 출발분 = [25, 40, 55, 70, 85, 100]; // 한시간 안에서 10분마다 태우는 인원수
      let 최종계산된분 = 0;

      for (const variable in 출발분) {
        if (출발분[variable] > (대기인원 % 1200) % 100) {
          // 이건 뭐냐면, (대기인원 % 1200) % 100 이게 지금 위에서 2시간동안 200명 태우고 남은 5명임
          // 이 5명은 어느 출발분에서 탈 수 있는건지를 계산하는거임. -> variable 은 출발분의 index니까
          // 만약 해당 출발분안에 5명이 다 탈 수 있다면, 반복문을 중단하면 되는거겠지
          // 출발분은 10분 단위로 계산되니까 index인 variable에 10을 곱하면 출발분이 계산되겠지
          최종계산된분 = variable * 10;
          break;
        }
      }

      console.log(`최종계산된분: ${최종계산된분}`); // 0이 나옴. 즉 다음날 정시, 즉 9시에 5명 다 태울수 있다는 거지

      function 날짜계산() {
        let 년 = 2020 + Math.floor(걸린년도);
        let 월 = 걸린월수;
        let 일 = Math.floor(나머지일수);
        let 시 = Math.floor(걸린시간);
        let 분 = 최종계산된분;

        const 배에타는날짜 = `${년}년 ${월}월 ${일}일 ${시}시 ${분}분`;

        return 배에타는날짜;
      }

      console.log(날짜계산());
    </script>
  </body>
</html>

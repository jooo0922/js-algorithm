<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>알고리즘</title>
  </head>
  <body>
    <script>
      // 퀵정렬
      /*
        퀵정렬은
        (worst - O(nlog2n), best - O(n**2))
        이정도의 시간복잡도를 가짐.

        이것이 이전에 병합정렬과 다른 점은
        특정한 피봇값, 즉 기준점이 되는 값을 사용한다는 것!

        예를 들어, 피봇값이 66이라고 하면,
        66보다 작은 애들은 앞에, 66보다 큰 애들은 뒤에 정렬하는 식.

        이 피봇값으로 가장 많이 사용하는 것은,
        입력 배열의 
        1. 처음값
        2. 마지막값
        3. 중간값

        이 피봇값은 시간복잡도를 줄이기 위해서 다양한 방식으로 설정하기도 하나
        우리는 쉽게 하기 위해 처음값으로 해볼거임.

        [66, 77, 54, 32, 10, 5, 11, 15] 이거로 한번 해보면,

        피봇값: 66 
        [54, 32, 10, 5, 11, 15] + [66] + [77] (shift로 맨 처음에는 피봇값 66을 빼버릴거임)

        피봇값: 54 -> 그 다음에는 54가 처음값이 되니 얘가 피봇값으로 되겠지
        [32, 10, 5, 11, 15] + [54] + [66] + [77]

        피봇값: 32
        [10, 5, 11, 15] + [32] + [54] + [66] + [77]

        피봇값: 10
        [5] + [10] + [11, 15] + [32] + [54] + [66] + [77]

        피봇값: 11
        [5] + [10] + [11] + [15] + [32] + [54] + [66] + [77]
        -> 얘내들을 이어붙일때는 concat 메서드를 사용할거임
      */
      let 입력값 = [66, 77, 54, 32, 10, 5, 11, 15];

      // 이제 퀵정렬을 재귀함수로 만들어보자
      function 퀵정렬(입력배열) {
        let 입력배열의길이 = 입력배열.length; // 현재 입력배열의 길이값을 미리 저장해둠

        if (입력배열의길이 <= 1) {
          // 재귀함수의 종결조건이지
          // 입력배열의 요소가 1개거나 그보다 작다는 건 더이상 못쪼개는 최소단위라는 뜻이니 그냥 리턴하고 끝내면 되겠지
          return 입력배열;
        }

        let 피봇값 = [입력배열.shift()]; // 피봇값도 이런 식으로 입력배열의 처음값을 빼와서 배열로 만들어주는 것.
        let 그룹하나 = []; // 얘는 피봇값보다 작은, 피봇값 앞에 오는 요소들을 모아둘 배열
        let 그룹둘 = []; // 얘는 피봇값보다 큰, 피봇값 뒤에 오는 요소들을 모아둘 배열

        for (const i in 입력배열) {
          if (입력배열[i] < 피봇값) {
            // 피봇값 기준 더 작은 애들은 그룹하나(피봇값 앞에 오는 요소들)에 모아두고
            그룹하나.push(입력배열[i]);
          } else {
            // 피봇값 기준 더 큰 애들은 그룹둘(피봇값 뒤에 오는 요소들)
            그룹둘.push(입력배열[i]);
          }
        }

        console.log(
          `그룹하나 : ${그룹하나}\n그룹둘 : ${그룹둘}\n피봇값 : ${피봇값}`
        ); // 어떤식으로 쪼개지고 정렬됬는지 과정을 확인하고 싶다면 이렇게 콘솔에 찍어볼 것

        // concat 메서드로 이어붙임
        // 이거는 지금
        // [그룹하나] + [피봇값] + [그룹둘]
        // 요런 식으로 배열을 붙여주는 거라고 보면 됨.
        return 퀵정렬(그룹하나).concat(피봇값, 퀵정렬(그룹둘));
      }

      console.log(퀵정렬(입력값));
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>알고리즘</title>
  </head>
  <body>
    <script>
      // 재귀함수 사례 - 문자열 뒤집기
      // 일단 반복문으로 먼저 구현해보자
      let result = "";
      let x = "leehojun";
      while (true) {
        // 일단 무한반복을 돌려놓고
        if (x.length === 1) {
          // 종결조건으로 문자열 x가 1개만 남았을 때 반복문을 종료함
          result += x;
          break;
        }

        // pop() 은 마지막 문자열부터 하나씩 빼버리는거임. splice() 는? 앞에거부터 빼버리는거
        // 따라서 이렇게 하나씩 문자열을 빼다보면 언젠가는 문자열이 1개만 남아서 종결조건에 걸리겠지?
        // 그리고 마지막에 있는 거부터 차례대로 빼와서 result에 차곡차곡 쌓아두니까
        // result 에는 x에 들어있는 문자열의 역순으로 저장되겠지
        let 배열화 = x.split(""); // 이거는 문자열 x는 pop() 배열 메서드를 쓸 수 없어서 split() 을 이용해 배열로 쪼개준 것.
        console.log(배열화); // 이거 콘솔에 찍어보면 x에 있는 문자들이 어떻게 pop() 되어가는지 알 수 있음.
        result += String(배열화.pop()); // 쪼개준 배열의 마지막 요소를 가져와서 result에 차곡차곡 더해줌
        x = 배열화.join(""); // 다음 반복문으로 넘어가기 전 마지막 요소가 빠진 배열화를 join() 으로 다시 문자열화 시킴.
        console.log(x); // 얘는 pop으로 빼주고 나서 x 에 어떤 문자열이 남는지 확인할 수 있음.
      }
      console.log(result);
      // 또는 O(1) 수준으로 시간복잡도를 최소화하는 방법이 있지
      // 그냥 x.split('').reverse().join() 해버리면 반복문을 돌지 않아도 한방에 역순으로 뒤집을 수 있음.

      // 이제 이걸 재귀함수로 구현해보자
      function 문자열역순(문자) {
        if (문자.length === 1) {
          return 문자; // 종결 조건이지
        }

        // slice 는 문자가 들어올 때마다 맨 마지막을 제외한 문자요소들을 잘라서 리턴해 줌.
        // 참고로 String도 slice 를 사용할 수 있음.
        console.log(문자.slice(0, 문자.length - 1));
        return (
          문자[문자.length - 1] + 문자열역순(문자.slice(0, 문자.length - 1))
          // 결국 문자[문자.length - 1] 는 매번 들어오는 문자의 마지막 알파벳을 가리키는 것이지!
        );
      }

      console.log(`재귀함수 사용: ${문자열역순("leehojun")}`);
    </script>
  </body>
</html>

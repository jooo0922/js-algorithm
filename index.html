<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>알고리즘</title>
  </head>
  <body>
    <script>
      // 재귀함수 사례 - 피보나치 순열
      /*
        피보나치 순열은
        맨뒤에 숫자랑 맨 뒤에서 두번째 숫자를 더해서
        다음 숫자를 계산하는 방식이라고 보면 됨.

        1 1 2 3 5 8 13 21 34 ... 이런 식으로!
      */
      // 이거를 반복문으로 먼저 풀어보자
      let a = 1;
      let b = 1;
      for (let i = 0; i < 5; i++) {
        let c = a + b; // c항은 다음숫자를 계산한 값을 넣어줌.
        a = b; // a항은 맨뒤에서 두번째 숫자
        b = c; // b항은 맨뒤 숫자가 되도록 값을 덮어씀
      }
      console.log(b); // 참고로 c는 for 문 내에서만 사용하는 지역변수니까 전역공간에서는 참조가 불가능하겠지

      // 이제 이거를 재귀함수로 짜보자
      function 피보나치(순서) {
        // 순서는 순열에서 몇번째 숫자인지 그 값을 전달해준 거임.
        if (순서 === 1 || 순서 === 2) {
          return 1; // 들어오는 순열의 순서가 1번째 또는 2번째면 둘다 순열값이 1이니까 별 계산없이 1만 리턴해줘도 됨.
        }

        // 얘는 전 순열이랑 전전 순열을 더해줌. 이말은 뭐냐면,
        // 맨처음 5번째 순열로 넣어서 시작하면 4번째 순열과 3번째 순열값을 계산해서 더해준 값으로 리턴한다는 거지
        // 즉, 피보나치 순열 상에서 해당 번째 순서의 숫자를 리턴값으로 던져주는거임
        return 피보나치(순서 - 1) + 피보나치(순서 - 2);
      }
      console.log(피보나치(5)); // 이렇게 하면 5번째 피보나치 순열의 값 5가 리턴됨.
      // 그런데 이렇게 재귀함수로 피보나치 순열을 구하다보면, 똑같은 순서의 순열값을 반복적으로 계산하는 경우가 생김
      // 이런 경우에는 메모리 효율상 재귀함수로 하지 말아야 하는 케이스임.
      // 그래서 이걸 방지하기 위해서 해준게 위에 종결조건임. 순서가 1번째나 2번째면 별다른 계산없이 1로 리턴해주라는 거
    </script>
  </body>
</html>

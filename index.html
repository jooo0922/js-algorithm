<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>알고리즘</title>
  </head>
  <body>
    <script>
      // 삽입정렬
      let 입력값 = [5, 10, 66, 77, 54, 32, 11, 15];
      let 정렬된배열 = [];
      let 배열의길이 = 입력값.length; // 선택정렬에서 봐서 알듯이 입력값 배열은 하나씩 빠지므로 length가 줄어듦. 그래서 초기 length값을 미리 저장해둔 것.

      function 삽입값이들어갈인덱스(정렬된배열, 삽입값) {
        for (const i in 정렬된배열) {
          if (삽입값 < 정렬된배열[i]) {
            // 이게 뭐냐면, 만약 삽입값이 현재 인덱스의 요소보다 작다면,
            // 그 요소 앞에 와야되고, 그 요소 앞에 와야된다는 거는
            // 현재 그 요소의 인덱스 자리를 삽입값이 차지하고,
            // 현재 그 요소와 그 뒤의 모든 요소들은 다 뒤로 밀려나야 한다는 거임.
            // 그래서 현재 그 요소의 인덱스를 리턴해주는 것이지!
            return i;
          }
        }

        // 그리고 만약에 끝까지 정렬된배열을 다 돌아도 들어갈 위치를 못찾았다?
        // 이 말은 삽입값이 정렬된배열에 존재하는 모든 요소보다 큰 값이라는 뜻이지?
        // 그럼 정렬된배열의 맨 뒤에, 맨 끝에 넣어줘야 하니까
        // 현재 정렬된배열의 마지막인덱스 + 1인 정렬된배열.length 에 넣어주면 되겠네
        return 정렬된배열.length;
      }

      for (let i = 0; i < 배열의길이; i++) {
        삽입값 = 입력값.shift(); // 일단 입력값에서 맨앞부분에 있는 요소들부터 차례대로 빼서 '삽입값' 에 넣어줌
        인덱스 = 삽입값이들어갈인덱스(정렬된배열, 삽입값);
        // 그리고 해당 삽입값이 '정렬된배열' 에서 어느 위치의 index에 끼어들어야 하는지,
        // 그 index 값을 리턴해주는 '삽입값이들어갈인덱스' 함수를 실행함.

        // 그리고 splice 를 이용해서 구해놓은 '인덱스'에 해당하는 위치에 '삽입값'을 '정렬된배열'에 꽂아줌.
        정렬된배열.splice(인덱스, 0, 삽입값);

        // 그리고 매 반복문마다 어느 인덱스에 끼어들어가는지, 끼어들어간 결과로 정렬된배열을 콘솔로 찍어 확인해보자
        console.log(`인덱스: ${인덱스}`);
        console.log(`정렬된배열: ${정렬된배열}`);
      }
    </script>
  </body>
</html>
